export LC_ALL=C
export LANG=C

# Run ESLint and check for errors
if ! npx eslint .; then
  echo "Error: ESLint found issues. Please fix them before committing."
  exit 1
fi

# Format the code with Prettier and add the changes to the staging area
echo "Formatting files"
npx format-cds -f
npx prettier --write '**/*.xml' --plugin=@prettier/plugin-xml
npx prettier --write .
git add .